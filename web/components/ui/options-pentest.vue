<script setup lang="ts">
const all_options = ref(false);
const options = ref({
  recognition: false,
  enumeration: false,
  exploration: false,
  post_exploration: false,
  analyze_malware: false,
  analyze_phishing: false,
});

watch(all_options, (value) => {
  if (value) {
    options.value.recognition = true;
    options.value.enumeration = true;
    options.value.exploration = true;
    options.value.post_exploration = true;
    options.value.analyze_malware = true;
    options.value.analyze_phishing = true;
  } else {
    options.value.recognition = false;
    options.value.enumeration = false;
    options.value.exploration = false;
    options.value.post_exploration = false;
    options.value.analyze_malware = false;
    options.value.analyze_phishing = false;
  }
});

function onSubmit() {
  console.log(options.value);
}
</script>

<template>
  <div
    v-if="false"
    class="fixed z-10 top-0 left-0 w-full h-full p-8 bg-black/60"
  >
    <div class="w-full h-full flex items-center justify-center">
      <transition name="fade">
        <div
          ref="container"
          class="max-w-72 w-full p-8 bg-[#181818] rounded-3xl shadow-xl"
        >
          <div class="relative grid grid-cols-7">
            <div class="col-span-7">
              <h3
                class="text-white/90 text-center font-semibold leading-tight mb-2"
              >
                Escolha as acções por efectuar!
              </h3>
              <div class="mt-4">
                <form @submit.prevent="onSubmit" class="w-full">
                  <div class="flex items-center gap-2">
                    <input
                      type="checkbox"
                      id="recognition"
                      v-model="options.recognition"
                      class="relative peer shrink-0 appearance-none w-3 h-3 cursor-pointer border border-neutral-600 rounded-sm bg-neutral-800 checked:bg-green-700 checked:border-0"
                    />
                    <Icon
                      name="heroicons:check-16-solid"
                      class="absolute w-3 h-3 opacity-0 pointer-events-none peer-checked:opacity-100"
                    />
                    <label for="recognition" class="text-sm cursor-pointer">
                      Reconhecimento
                    </label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input
                      type="checkbox"
                      id="enumeration"
                      v-model="options.enumeration"
                      class="relative peer shrink-0 appearance-none w-3 h-3 cursor-pointer border border-neutral-600 rounded-sm bg-neutral-800 checked:bg-green-700 checked:border-0"
                    />
                    <Icon
                      name="heroicons:check-16-solid"
                      class="absolute w-3 h-3 opacity-0 pointer-events-none peer-checked:opacity-100"
                    />
                    <label for="enumeration" class="text-sm cursor-pointer">
                      Enumeração
                    </label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input
                      type="checkbox"
                      id="exploration"
                      v-model="options.exploration"
                      class="relative peer shrink-0 appearance-none w-3 h-3 cursor-pointer border border-neutral-600 rounded-sm bg-neutral-800 checked:bg-green-700 checked:border-0"
                    />
                    <Icon
                      name="heroicons:check-16-solid"
                      class="absolute w-3 h-3 opacity-0 pointer-events-none peer-checked:opacity-100"
                    />
                    <label for="exploration" class="text-sm cursor-pointer">
                      Exploração
                    </label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input
                      type="checkbox"
                      id="post_exploitation"
                      v-model="options.post_exploration"
                      class="relative peer shrink-0 appearance-none w-3 h-3 cursor-pointer border border-neutral-600 rounded-sm bg-neutral-800 checked:bg-green-700 checked:border-0"
                    />
                    <Icon
                      name="heroicons:check-16-solid"
                      class="absolute w-3 h-3 opacity-0 pointer-events-none peer-checked:opacity-100"
                    />
                    <label
                      for="post_exploitation"
                      class="text-sm cursor-pointer"
                    >
                      Pós-exploração
                    </label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input
                      type="checkbox"
                      id="analyze_malware"
                      v-model="options.analyze_malware"
                      class="relative peer shrink-0 appearance-none w-3 h-3 cursor-pointer border border-neutral-600 rounded-sm bg-neutral-800 checked:bg-green-700 checked:border-0"
                    />
                    <Icon
                      name="heroicons:check-16-solid"
                      class="absolute w-3 h-3 opacity-0 pointer-events-none peer-checked:opacity-100"
                    />
                    <label
                      for="analyze_malware"
                      class="text-sm cursor-pointer select-none"
                    >
                      Analisar Malwares
                    </label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input
                      type="checkbox"
                      id="analyze_phishing"
                      v-model="options.analyze_phishing"
                      class="relative peer shrink-0 appearance-none w-3 h-3 cursor-pointer border border-neutral-600 rounded-sm bg-neutral-800 checked:bg-green-700 checked:border-0"
                    /><Icon
                      name="heroicons:check-16-solid"
                      class="absolute w-3 h-3 opacity-0 pointer-events-none peer-checked:opacity-100"
                    />
                    <label
                      for="analyze_phishing"
                      class="text-sm cursor-pointer"
                    >
                      Analisar Phishing
                    </label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input
                      type="checkbox"
                      id="all"
                      v-model="all_options"
                      class="relative peer shrink-0 appearance-none w-3 h-3 cursor-pointer border border-neutral-600 rounded-sm bg-neutral-800 checked:bg-green-700 checked:border-0"
                    /><Icon
                      name="heroicons:check-16-solid"
                      class="absolute w-3 h-3 opacity-0 pointer-events-none peer-checked:opacity-100"
                    />
                    <label for="all" class="text-sm cursor-pointer">
                      Todas opções
                    </label>
                  </div>
                  <div class="mt-4">
                    <button
                      :disabled="
                        !(
                          options.exploration ||
                          options.enumeration ||
                          options.recognition ||
                          options.post_exploration ||
                          options.analyze_malware ||
                          options.analyze_phishing
                        )
                      "
                      class="w-full py-2 text-sm bg-green-800 rounded-md hover:bg-green-700 disabled:bg-neutral-600 disabled:cursor-not-allowed disabled:text-neutral-400"
                    >
                      Selecionar
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </transition>
    </div>
  </div>
</template>
